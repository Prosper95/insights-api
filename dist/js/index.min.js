"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function Account(){var t=new _urijs2.default;return{url:t.toString(),init:function(e){t.segment(e+"account/products")},getProducts:function(e){return t.setQuery(e),fetch(t.toString(),{credentials:"same-origin"}).then(checkStatus).then(parseJSON).catch(handleError)}}}function init(t){var e=(0,_urijs2.default)(t+"account/settings");return{url:e.toString(),getSettings:function(){var t=new Headers;return t.append("Accept","text/plain"),t.append("Accept","application/json"),t.append("Accept","*/*"),t.append("X-Omit","WWW-Authenticate"),fetch(e.toString(),{credentials:"same-origin",cache:"default",headers:t}).then(function(t){if(console.log("Checking status"),console.log(t),t.status>=200&&t.status<300)return Promise.resolve(t);var e=new Error(t.statusText);throw e.response=t,e}).then(function(t){return t.json()})},updateSettings:function(t){return fetch(e.toString(),{method:"POST",body:t}).then(checkStatus).then(parseJSON).catch(handleError)}}}function checkStatus(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function parseJSON(t){return t.json()}function formatJSON(t){return{data:t}}function handleError(t){console.log("request faild",t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Account=Account,exports.init=init,require("fetch"),require("es6-promise");var _urijs=require("urijs"),_urijs2=_interopRequireDefault(_urijs);require("babel/browser-polyfill");